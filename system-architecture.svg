<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <!-- Background -->
  <rect width="800" height="500" fill="#f8f9fa" rx="10" ry="10" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">ENT CPT Code Agent Architecture</text>
  
  <!-- User Interface -->
  <rect x="50" y="80" width="200" height="100" rx="5" ry="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="150" y="110" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#0d47a1">User Interface</text>
  <text x="150" y="135" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Command Line / Web UI</text>
  <text x="150" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Query Input / Results Display</text>
  
  <!-- LM Studio Engine -->
  <rect x="300" y="80" width="200" height="100" rx="5" ry="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" />
  <text x="400" y="110" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#1b5e20">LM Studio Engine</text>
  <text x="400" y="135" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Language Model (Qwen/Llama)</text>
  <text x="400" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Reasoning & Tool Use</text>
  
  <!-- CPT Code Database -->
  <rect x="550" y="80" width="200" height="100" rx="5" ry="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
  <text x="650" y="110" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#e65100">CPT Code Database</text>
  <text x="650" y="135" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- ENT CPT Codes</text>
  <text x="650" y="155" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Code Descriptions & Rules</text>
  
  <!-- Agent Core -->
  <rect x="300" y="230" width="200" height="120" rx="5" ry="5" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" />
  <text x="400" y="260" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#1a237e">Agent Core</text>
  <text x="400" y="285" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Query Processing</text>
  <text x="400" y="305" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Tool Selection & Execution</text>
  <text x="400" y="325" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">- Response Generation</text>
  
  <!-- Tool Functions -->
  <rect x="100" y="350" width="600" height="100" rx="5" ry="5" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" />
  <text x="400" y="380" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#4a148c">Tool Functions</text>
  
  <!-- Tools -->
  <rect x="120" y="400" width="120" height="30" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" />
  <text x="180" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Code Search</text>
  
  <rect x="260" y="400" width="120" height="30" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" />
  <text x="320" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Code Validation</text>
  
  <rect x="400" y="400" width="120" height="30" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" />
  <text x="460" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Rule Application</text>
  
  <rect x="540" y="400" width="140" height="30" rx="5" ry="5" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" />
  <text x="610" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Explanation Generator</text>
  
  <!-- Connecting Lines -->
  <!-- UI to Agent -->
  <line x1="150" y1="180" x2="300" y2="230" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- LM Studio to Agent -->
  <line x1="400" y1="180" x2="400" y2="230" stroke="#333" stroke-width="2" />
  
  <!-- CPT Database to Agent -->
  <line x1="650" y1="180" x2="500" y2="230" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- Agent to Tools -->
  <line x1="400" y1="350" x2="400" y2="380" stroke="#333" stroke-width="2" />
</svg>
